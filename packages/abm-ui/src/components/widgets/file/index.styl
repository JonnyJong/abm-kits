:host
	position relative
	display block
	overflow hidden
	padding 8px
	min-height 108px
	outline 4px dashed #0000
	outline-offset -4px
	border 1px solid var(--w-file-border)
	border-radius var(--ui-border-radius)
	background var(--w-file-bg)
	transition .1s outline
	&.w-file-hover
		outline-color var(--theme)
	&[multiple]
		&[display='block']
			.file-list
				flex-direction row
				flex-wrap wrap
			.file
				flex-direction column
				padding 16px
				width 106px
				w-btn
					position absolute
					top 0
					right 0
			.file-icon
				padding 0
				width 42px
				height 42px
				font-size 42px
			.file-name
				max-width 100%
	&:not([multiple])
		height 108px
		.file-list
			padding-bottom 0
			height 100%
		.file
			flex-direction column
			justify-content center
			height 100%
			w-btn
				display none
			&:hover
			&:has([ui-hover])
				background #0000
		.file-icon
			padding 0
			width auto
			height auto
			font-size 42px
		.file-name
			flex 0 0 auto
		&[preview-image]
			padding 0
			img.file-icon
				width 100%
				height 100%
				object-fit cover
				&~.file-name
					display none
	&[readonly]
		w-btn
		.actions
			display none

.file-list
	display flex
	flex-direction column
	overflow hidden overlay
	padding-bottom 8px + 50px
	max-height 100%

.file
	position relative
	display flex
	align-items center
	border-radius var(--ui-border-radius)
	transition .1s background
	gap 8px
	&:hover
	&:has([ui-hover])
		background var(--w-file-hover-bg)

.file-icon
	display block
	align-items center
	padding 8px
	width 32px
	height 32px
	line-height 32px

img.file-icon
	padding 2px
	border-radius var(--ui-border-radius)

.file-name
	flex 1
	overflow hidden
	text-overflow ellipsis

.actions
	position absolute
	right 8px
	bottom 8px
	display flex
	padding 8px
	width max-content
	border-radius var(--ui-border-radius)
	background var(--w-file-action-bg)
	transition .1s opacity
	gap 8px
	backdrop-filter blur(8px)

@media (pointer fine)
	.actions
		opacity 0

:host[ui-hover] .actions
:host[multiple] .actions
.file-list[ui-hover]~.actions
.file-list:has([ui-hover])~.actions
.actions:has([ui-hover])
	opacity 1

.placeholder
	position absolute
	display flex
	flex-direction column
	justify-content center
	align-items center
	width 100%
	height 100%
	opacity var(--w-file-placeholder-opacity)
	inset 0

.hidden
	display none
