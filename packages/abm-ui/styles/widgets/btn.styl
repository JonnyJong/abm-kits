:host
	position relative
	display block
	overflow hidden
	padding 4px 8px
	width max-content
	border 1px solid var(--w-btn-border)
	border-radius 4px
	background var(--w-btn-backdrop)
	transition .1s background
	--w-btn-progress-bg var(--w-btn-bg)
	&[flat]
		border-color #0000
		--w-btn-progress-bg #0000
		--w-btn-backdrop #0000
	&[rounded]
		border-radius 10000vmax
	&[ui-hover]
		--w-btn-progress-bg var(--w-btn-hover-bg)
	&[ui-active]
		--w-btn-progress-bg var(--w-btn-active-bg)
	&[disabled]
		--w-btn-progress-bg var(--w-btn-disabled-bg)
		&:not([flat])
			border-color var(--w-btn-disabled-border)
	&[state='primary']
	&[state='toggle'][checked]
		border-color var(--theme)
		color var(--theme-text)
		--w-btn-backdrop var(--theme-a4)
		--w-btn-progress-bg var(--theme-ac)
		&[ui-hover]
			--w-btn-progress-bg var(--theme)
		&[ui-active]
			--w-btn-progress-bg var(--theme-aa)
		&[disabled]
			--w-btn-progress-bg var(--theme-a6)
	&[state='danger']
		border-color var(--w-btn-danger-border)
		--w-btn-progress-bg var(--w-btn-danger-bg)
		&[ui-hover]
			--w-btn-progress-bg var(--w-btn-danger-hover-bg)
		&[ui-active]
			--w-btn-progress-bg var(--w-btn-danger-active-bg)
		&[disabled]
			--w-btn-progress-bg var(--w-btn-danger-disabled-bg)

.content
	position relative
	display flex
	justify-content center
	align-items center
	min-height 24px
	width 100%
	height 100%
	transition .1s opacity
	gap 4px
	--w-progress-ring-size 16px

.delay
	position absolute
	top 0
	left 0
	height 100%
	background var(--w-btn-bg)
	opacity 0
	transition .2s opacity

.progress
	position absolute
	top 0
	left 0
	width 100%
	height 100%
	background var(--w-btn-progress-bg)
	transition .1s background, .1s width

:host
	&[ui-active]:not([disabled])
		.content
			opacity var(--w-btn-active-content-opacity)
		.delay
			opacity .5
	&[disabled]
		.content
			opacity var(--w-btn-disabled-content-opacity)
	&[state='primary']
	&[state='toggle'][checked]
		.delay
			background var(--theme)
		w-progress-ring
			--theme var(--theme-text)
	&[state='danger']
		.delay
			background var(--w-btn-danger-hover-bg)
